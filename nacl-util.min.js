!function(e,r){"use strict";"undefined"!=typeof module&&module.exports?module.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())}(this,function(){"use strict";var e={};function i(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid base64 encoded string")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var r,t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},e.encodeUTF8=function(e){var r,t=[];for(r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return decodeURIComponent(escape(t.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(r,e){if("string"!=typeof r)throw new TypeError("expected string");var t=!(null==e||!e)&&e;t&&i(r);try{return new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}catch(e){throw t||i(r),e}}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(r,e){if("string"!=typeof r)throw new TypeError("expected string");var t=!(null==e||!e)&&e;t&&i(r);try{return new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}catch(e){throw t||i(r),e}}):(e.encodeBase64=function(e){var r,t=[],n=e.length;for(r=0;r<n;r++)t.push(String.fromCharCode(e[r]));return btoa(t.join(""))},e.decodeBase64=function(r,e){if("string"!=typeof r)throw new TypeError("expected string");var t=!(null==e||!e)&&e;t&&i(r);try{var n,o=atob(r),a=new Uint8Array(o.length);for(n=0;n<o.length;n++)a[n]=o.charCodeAt(n);return a}catch(e){throw t||i(r),e}}),e});