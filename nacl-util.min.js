!function(e,r){"use strict";"undefined"!=typeof module&&module.exports?module.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())}(this,function(){"use strict";var e={};function c(e){if("string"!=typeof e)throw new TypeError("expected string");if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid base64 encoded string")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var r,n=unescape(encodeURIComponent(e)),t=new Uint8Array(n.length);for(r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t},e.encodeUTF8=function(e){var r,n=[];for(r=0;r<e.length;r++)n.push(String.fromCharCode(e[r]));return decodeURIComponent(escape(n.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(r,e){var n=!(null==e||!e)&&e;n&&c(r);try{return new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}catch(e){throw n||c(r),e}}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(r,e){var n=!(null==e||!e)&&e;n&&c(r);try{return new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}catch(e){throw n||c(r),e}}):(e.encodeBase64=function(e){var r,n=[],t=e.length;for(r=0;r<t;r++)n.push(String.fromCharCode(e[r]));return btoa(n.join(""))},e.decodeBase64=function(r,e){var n=!(null==e||!e)&&e;n&&c(r);try{var t,o=atob(r),a=new Uint8Array(o.length);for(t=0;t<o.length;t++)a[t]=o.charCodeAt(t);return a}catch(e){throw n||c(r),e}}),e});